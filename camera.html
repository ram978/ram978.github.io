<!DOCTYPE html>
<html>
 <head>
  <title>Webslesson Tutorial | Upload File without using Form Submit in Ajax PHP</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link href="/styles.css"  rel="stylesheet" type="text/css"  />
 <style>
 .upload-btn-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;
}
.upload-btn-wrapper input[type=file] {
  font-size: 100px;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
}
.verticalhorizontal {
    display: table-cell;
    height: 300px;
    text-align: center;
    width: 300px;
    vertical-align: middle;
}
.btn {
  background-color: #DB7093; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 40px;
  margin: 4px 2px;
  cursor: pointer;
  -webkit-transition-duration: 0.4s; /* Safari */
  transition-duration: 0.4s;
  border-radius: 8px;
}
.btn:hover{
  box-shadow: 0 20px 36px 0 rgba(0,24,0,0.24),0 17px 50px 0 rgba(0,24,0,0.19);
}
</style>
 </head>
 <body><center> 
  <p class="verticalhorizontal">
  <img src="https://raw.githubusercontent.com/ram978/ram978.github.io/master/dcu.png" alt="dcu_logo" width="500" height="350">
  <div class="upload-btn-wrapper">
  <button class="btn">Scan Vin Number</button>
   <input type="file" name="file" id="file" accept = "image/*" capture="camera"/>
   </div></p></center>
<script>
$(document).ready(function(){
 $(document).on('change', '#file', function(){
  var name = document.getElementById("file").files[0].name;
  var form_data = new FormData();
  var ext = name.split('.').pop().toLowerCase();
  if(jQuery.inArray(ext, ['gif','png','jpg','jpeg']) == -1) 
  {
   alert("Invalid Image File");
  }
  var oFReader = new FileReader();
  oFReader.readAsDataURL(document.getElementById("file").files[0]);
  var f = document.getElementById("file").files[0];
  var fsize = f.size||f.fileSize;
  if(fsize > 2000000)
  {
   alert("Image File Size is very big");
  }
  else
  {
   form_data.append("file", document.getElementById('file').files[0]);
   $.ajax({
    url:"upload.php",
    method:"POST",
    data: form_data,
    contentType: false,
    cache: false,
    processData: false,
   // beforeSend:function(){
   //  $('#uploaded_image').html("<label class='text-success'>Image Uploading...</label>");
   // },   
   // success:function(data)
   // {
   //  $('#uploaded_image').html(data);
    }
   });
  }
 });
});
</script>
 </body>

</html>


